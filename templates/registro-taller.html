{% extends "base.html" %}
{% load static %}
{% load roles %}

{% block title %}Registro Taller{% endblock %}

{% block content %}

<!-- Indica al JS si es supervisor o mecÃ¡nico -->
<div id="modoWrapper" data-modo="{{ modo }}"></div>

<div class="page-container fade-in">

    <!-- ===========================================
            ENCABEZADO
    ============================================ -->
    <div class="section-header mb-4">
        <h2 class="fw-bold">ðŸ›  Registro Taller</h2>
        <p class="text-muted">Gestiona vehÃ­culos actualmente en el taller.</p>
    </div>

    <!-- ===========================================
            LISTA DE VEHÃCULOS EN TALLER
            (fallback inicial + refresco por JS)
    ============================================ -->
    <div id="tablaVehiculosTaller" class="mt-3">
        {# Fallback inicial por si aÃºn no corre el JS #}
        {% include "partials/tabla_vehiculos_taller.html" with ots=ots %}
    </div>

</div>

<!-- Siempre usar un Ãºnico JS para ambos roles -->
<script src="{% static 'js/registro_taller_estado.js' %}"></script>
<script src="{% static 'js/registro_taller.js' %}"></script>

{% endblock %}

